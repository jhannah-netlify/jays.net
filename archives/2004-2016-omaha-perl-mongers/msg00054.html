<!-- MHonArc v2.6.24 -->
<!--X-Subject: [Omaha.pm] Date::Calc -->
<!--X-From-R13: Xnl Vnaanu &#60;wnlNwnlf.arg> -->
<!--X-Date: Sat, 31 Jul 2004 09:55:27 &#45;0500 -->
<!--X-Message-Id: Pine.LNX.4.33.0407310948560.31301&#45;100000@hannibal.mammoth.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[Omaha.pm] Date::Calc</title>
<link rev="made" href="mailto:jay@jays.net">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00053.html">Date Prev</a>][<a href="msg00055.html">Date Next</a>][<a href="msg00065.html">Thread Prev</a>][<a href="msg00055.html">Thread Next</a>][<a href="maillist.html#00054">Date Index</a>][<a href="threads.html#00054">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[Omaha.pm] Date::Calc</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &lt;<a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a>&gt;</li>
<li><em>Subject</em>: [Omaha.pm] Date::Calc</li>
<li><em>From</em>: Jay Hannah &lt;<a href="mailto:jay%40jays.net">jay@jays.net</a>&gt;</li>
<li><em>Date</em>: Sat, 31 Jul 2004 09:55:03 -0500 (CDT)</li>
<li><em>List-archive</em>: &lt;<a href="http://www.pm.org/pipermail/omaha-pm">http://www.pm.org/pipermail/omaha-pm</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:omaha-pm-request@pm.org?subject=help">mailto:omaha-pm-request@pm.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;omaha-pm.pm.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:omaha-pm@pm.org">mailto:omaha-pm@pm.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://www.pm.org/mailman/listinfo/omaha-pm">http://www.pm.org/mailman/listinfo/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=subscribe">mailto:omaha-pm-request@pm.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://www.pm.org/mailman/listinfo/omaha-pm">http://www.pm.org/mailman/listinfo/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=unsubscribe">mailto:omaha-pm-request@pm.org?subject=unsubscribe</a>&gt;</li>
<li><em>Reply-to</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;<a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
In the debugger after

use Date::Calc qw( Today Add_Delta_YMD );

-----------
  DB&lt;3&gt; x Today
0  2004
1  7
2  31
  DB&lt;4&gt; x Add_Delta_YMD(Today, 0, -1, 0)
0  2004
1  7
2  1
-----------

That was not what I was expecting. I guess I was expecting 2004 6 30?

j

from perldoc Date::Calc

---------------------------
       o &quot;($year,$month,$day) = Add_Delta_YMD($year,$month,$day,
         $Dy,$Dm,$Dd);&quot;

         This function serves to add a years, months and days
         offset to a given date.

         (In order to add a weeks offset, simply multiply the
         weeks offset with &quot;&quot;7&quot;&quot; and add this number to your days
         offset.)

         Note that the three offsets for years, months and days
         are applied independently from each other. This also
         allows them to have different signs.

         The years and months offsets are applied first, and the
         days offset is applied last.

         If the resulting date happens to fall on a day after the
         end of the resulting month, like the 32nd of April or
         the 30th of February, then the date is simply counted
         forward into the next month (possibly also into the next
         year) by the number of excessive days (e.g., the 32nd of
         April will become the 2nd of May).

         BEWARE that this behaviour differs from that of previous
         versions of this module! In previous versions, the day
         was simply truncated to the maximum number of days in
         the resulting month.

         If you want the previous behaviour, use the new function
         &quot;&quot;Add_Delta_YM()&quot;&quot; (described immediately above) plus
         the function &quot;&quot;Add_Delta_Days()&quot;&quot; instead.

         BEWARE also that because a year and a month offset is
         not equivalent to a fixed number of days, the transfor-
         mation performed by this function is NOT ALWAYS
         REVERSIBLE!

         This is in contrast to the functions
         &quot;&quot;Add_Delta_Days()&quot;&quot; and &quot;&quot;Add_Delta_DHMS()&quot;&quot;, which are
         fully and truly reversible (with the help of the func-
         tions &quot;&quot;Delta_Days()&quot;&quot; and &quot;&quot;Delta_DHMS()&quot;&quot;, for
         instance).

         Note that for this same reason,

           @date = Add_Delta_YMD(
                   Add_Delta_YMD(@date, $Dy,$Dm,$Dd), -$Dy,-$Dm,-$Dd);

         will in general NOT return the initial date &quot;&quot;@date&quot;&quot;.

         Note that this is NOT a program bug but NECESSARILY so
         because of the variable lengths of years and months!
------------------

I guess I want Delta_YM instead?

It's hard to report bugs when authors keep accurately documenting
behaviors. -grin-

j




</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00053.html">Re: [Omaha.pm] simple syntax question</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00055.html">RE: [Omaha.pm] Date::Calc</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00065.html">Re: [Omaha.pm] simple syntax question</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00055.html">RE: [Omaha.pm] Date::Calc</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00054"><strong>Date</strong></a></li>
<li><a href="threads.html#00054"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
