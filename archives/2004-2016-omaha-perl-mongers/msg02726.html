<!-- MHonArc v2.6.24 -->
<!--X-Subject: Re: [Omaha.pm] A regex "best fit" finder? -->
<!--X-From-R13: Quevfgbcure Qnfuryy &#60;gbcure&#45;czNmlc.bet> -->
<!--X-Date: 29 Sep 2011 23:03:53 &#45;0000 -->
<!--X-Message-Id: CACCJnx3yXGgDGHHD978joBxea4KUd0L8XkM6rDka55BE32mteA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAGYusaN2xJrLp2J&#45;auth+UBgRCT5kD+ZZMWTUFpE_fD6gXJGhQ@mail.gmail.com -->
<!--X-Reference: CACCJnx0XKqHymr5_=8BgEWpUZKwKr1L4Dks+V0g9qDYmeJxe6A@mail.gmail.com -->
<!--X-Reference: CAGYusaPW49XGhm9PFLuTWuzpGfhAMY0n3hKXjYkO&#45;pt+ssW7Hw@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [Omaha.pm] A regex &quot;best fit&quot; finder?</title>
<link rev="made" href="mailto:topher-pm@zyp.org">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg02725.html">Date Prev</a>][<a href="msg02727.html">Date Next</a>][<a href="msg02725.html">Thread Prev</a>][<a href="msg02727.html">Thread Next</a>][<a href="maillist.html#02726">Date Index</a>][<a href="threads.html#02726">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [Omaha.pm] A regex &quot;best fit&quot; finder?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;<a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a>&gt;</li>
<li><em>Subject</em>: Re: [Omaha.pm] A regex &quot;best fit&quot; finder?</li>
<li><em>From</em>: Christopher Cashell &lt;<a href="mailto:topher-pm%40zyp.org">topher-pm@zyp.org</a>&gt;</li>
<li><em>Date</em>: Thu, 29 Sep 2011 18:03:11 -0500</li>
<li><em>Delivered-to</em>: <a href="mailto:mailman-omaha-pm%40mailman.pm.dev">mailman-omaha-pm@mailman.pm.dev</a></li>
<li><em>Delivered-to</em>: <a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=mime-version:sender:in-reply-to:references:from:date	:x-google-sender-auth:message-id:subject:to:content-type	:content-transfer-encoding;	bh=VBIcVZDVHQXQ/wqn6tALqj2d57K5hQoTouKFw4QZMII=;	b=tmIE+E63nfoqEXWY1guXqMI9Xix6wL9CVOHOFIzBe3kSPX0e8u1t20CcbOpap+IYBD	xCU73m97se7uIC8CwA639qhKV+4TGEQsmwtrg9uFVc5HI9zdSGKg8KgsuQ+QN91oxpjK	GusqUWdGwV3Hgo7ssDMOIDqJP5DzeqBj6NqkU=</li>
<li><em>In-reply-to</em>: &lt;<a href="msg02725.html">CAGYusaPW49XGhm9PFLuTWuzpGfhAMY0n3hKXjYkO-pt+ssW7Hw@mail.gmail.com</a>&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://mail.pm.org/pipermail/omaha-pm">http://mail.pm.org/pipermail/omaha-pm</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:omaha-pm-request@pm.org?subject=help">mailto:omaha-pm-request@pm.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;omaha-pm.pm.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:omaha-pm@pm.org">mailto:omaha-pm@pm.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://mail.pm.org/mailman/listinfo/omaha-pm">http://mail.pm.org/mailman/listinfo/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=subscribe">mailto:omaha-pm-request@pm.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://mail.pm.org/mailman/options/omaha-pm">http://mail.pm.org/mailman/options/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=unsubscribe">mailto:omaha-pm-request@pm.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg02722.html">CAGYusaN2xJrLp2J-auth+UBgRCT5kD+ZZMWTUFpE_fD6gXJGhQ@mail.gmail.com</a>&gt;	&lt;CACCJnx0XKqHymr5_=8BgEWpUZKwKr1L4Dks+V0g9qDYmeJxe6A@mail.gmail.com&gt;	&lt;<a href="msg02725.html">CAGYusaPW49XGhm9PFLuTWuzpGfhAMY0n3hKXjYkO-pt+ssW7Hw@mail.gmail.com</a>&gt;</li>
<li><em>Reply-to</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;<a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:christopher.cashell%40gmail.com">christopher.cashell@gmail.com</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>2011/9/29 Dan Linder &lt;dan@linder.org&gt;:
&gt; Yeah, my simple list was very simple compared to the actual list of files.
&gt; &#xA0;I envision the final solution would be a number of match strings strung
&gt; together with &quot;|&quot;...

Do you have a complete list of hostnames that you want to match against?

If your list is that big, but you do have the full list, you could use
Regexp::Trie (or the slightly slower, but potentially more flexible
Regexp::Assemble).  Both are available from CPAN.

Using one of those, you can read in the list of items from an external
names file, and programmatically add them to your regex.

Basically, you'd do something like:

----------------------------------------------------------------------
use Regexp::Trie;

open my ($regex_fh), '&lt;', './hostnames' or die &quot;Couldn't open file&quot;;
my $rt = Regexp::Trie-&gt;new;

while (&lt;$regex_fh&gt;) {
  chomp;
  $rt-&gt;add($_);
}
my $super_regex = $rt-&gt;regexp;

while (&lt;&gt;) {
  chomp;
  say if /$super_regex/;
}
----------------------------------------------------------------------

&gt; Thanks, I'll keep looking.
&gt; Dan

-- 
Christopher

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="02722" href="msg02722.html">[Omaha.pm] A regex &quot;best fit&quot; finder?</a></strong>
<ul><li><em>From:</em> Dan Linder &lt;dan@linder.org&gt;</li></ul></li>
<li><strong><a name="02724" href="msg02724.html">Re: [Omaha.pm] A regex &quot;best fit&quot; finder?</a></strong>
<ul><li><em>From:</em> Christopher Cashell &lt;topher-pm@zyp.org&gt;</li></ul></li>
<li><strong><a name="02725" href="msg02725.html">Re: [Omaha.pm] A regex &quot;best fit&quot; finder?</a></strong>
<ul><li><em>From:</em> Dan Linder &lt;dan@linder.org&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg02725.html">Re: [Omaha.pm] A regex &quot;best fit&quot; finder?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg02727.html">[Omaha.pm] Haha spam</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg02725.html">Re: [Omaha.pm] A regex &quot;best fit&quot; finder?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg02727.html">[Omaha.pm] Haha spam</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#02726"><strong>Date</strong></a></li>
<li><a href="threads.html#02726"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
