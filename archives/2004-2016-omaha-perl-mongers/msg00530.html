<!-- MHonArc v2.6.24 -->
<!--X-Subject: [Omaha.pm] Quick Bail -->
<!--X-From-R13: "Yraargu Fubzcfba" &#60;xgubzcfbaNbzavubgryf.pbz> -->
<!--X-Date: 1 Sep 2005 22:21:11 &#45;0000 -->
<!--X-Message-Id: 29AB736ABCE5C745ABF9C93B02F2C27B0301BC31@exchange2k3.omnihotels.net -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[Omaha.pm] Quick Bail</title>
<link rev="made" href="mailto:kthompson@omnihotels.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00529.html">Date Prev</a>][<a href="msg00531.html">Date Next</a>][<a href="msg00536.html">Thread Prev</a>][<a href="msg00533.html">Thread Next</a>][<a href="maillist.html#00530">Date Index</a>][<a href="threads.html#00530">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[Omaha.pm] Quick Bail</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &quot;Perl Mongers of Omaha,  Nebraska USA&quot; &lt;<a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a>&gt;</li>
<li><em>Subject</em>: [Omaha.pm] Quick Bail</li>
<li><em>From</em>: &quot;Kenneth Thompson&quot; &lt;<a href="mailto:kthompson%40omnihotels.com">kthompson@omnihotels.com</a>&gt;</li>
<li><em>Date</em>: Thu, 1 Sep 2005 17:22:35 -0500</li>
<li><em>Delivered-to</em>: <a href="mailto:mailman-omaha-pm%40mailman.pm.dev">mailman-omaha-pm@mailman.pm.dev</a></li>
<li><em>Delivered-to</em>: <a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a></li>
<li><em>List-archive</em>: &lt;<a href="http://mail.pm.org/pipermail/omaha-pm">http://mail.pm.org/pipermail/omaha-pm</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:omaha-pm-request@pm.org?subject=help">mailto:omaha-pm-request@pm.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;omaha-pm.pm.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:omaha-pm@pm.org">mailto:omaha-pm@pm.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://mail.pm.org/mailman/listinfo/omaha-pm">http://mail.pm.org/mailman/listinfo/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=subscribe">mailto:omaha-pm-request@pm.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://mail.pm.org/mailman/listinfo/omaha-pm">http://mail.pm.org/mailman/listinfo/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=unsubscribe">mailto:omaha-pm-request@pm.org?subject=unsubscribe</a>&gt;</li>
<li><em>Reply-to</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;<a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a>&gt;</li>
<li><em>Thread-index</em>: AcWvQ6eZUj6tTf0YQjiorwQMd2+Ghg==</li>
<li><em>Thread-topic</em>: Quick Bail</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td style="a:link { color: blue } a:visited { color: purple } ">





<div class=Section1>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'>A short one-liner to keep a script from executing more than
one at a time (say a long running script kicked off from cron every minute that
runs more than a minute occasionally...<o:p></o:p></span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'>my @ps = `ps -ef | grep $0 | grep -v grep`; exit if ( @ps
&gt; 1);<o:p></o:p></span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'>and a more advanced version...<o:p></o:p></span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'>my @procs = grep /perl .*invan\.pl/, `ps axw`;&nbsp; <o:p></o:p></span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'>if (@procs &gt; 1) {&nbsp; <o:p></o:p></span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'>&nbsp;&nbsp; unless ($ENV{USER} eq &quot;jhannah&quot;)
{&nbsp; # Hopefully that dork knows what he's doing, so let him do
whatever.&nbsp; <o:p></o:p></span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; die &quot;Looks like I'm
already running. I refuse to run on top of myself.\n @procs&quot;; <o:p></o:p></span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'>&nbsp;&nbsp; } <o:p></o:p></span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'>}&nbsp; <o:p></o:p></span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=MsoNormal><strong><b><font size=2 color=gray face=Arial><span
style='font-size:10.0pt;font-family:Arial;color:gray'>Kenn Thompson</span></font></b></strong><o:p></o:p></p>

<p class=MsoNormal><st1:place w:st="on"><st1:PlaceName w:st="on"><font size=2
  color=gray face=Arial><span style='font-size:10.0pt;font-family:Arial;
  color:gray'>Omni</span></font></st1:PlaceName><font size=2 color=gray
 face=Arial><span style='font-size:10.0pt;font-family:Arial;color:gray'> <st1:PlaceType
 w:st="on">Hotels</st1:PlaceType> <st1:PlaceName w:st="on">Reservation</st1:PlaceName>
 <st1:PlaceType w:st="on">Center</st1:PlaceType></span></font></st1:place><o:p></o:p></p>

<p class=MsoNormal><font size=2 color=gray face=Arial><span style='font-size:
10.0pt;font-family:Arial;color:gray'>Sr. Programmer/Analyst<br>
w:402.952.6521<br>
c:402.598.8818</span></font><font size=1><span style='font-size:7.5pt'><o:p></o:p></span></font></p>

<p><b><i><font size=2 color="#333333" face=Arial><span style='font-size:11.0pt;
font-family:Arial;color:#333333;font-weight:bold;font-style:italic'>Omni Hotels</span></font></i></b><i><font
size=2 color="#333333"><span style='font-size:11.0pt;color:#333333;font-style:
italic'> is proud to be ranked <b><span style='font-weight:bold'>&#8220;Highest
in Guest Satisfaction Among Upscale Hotel Chains&#8221;</span></b> in the J.D.
Power and Associates 2005 North America Hotel Guest Satisfaction Study<sup>SM</sup>.&nbsp;
</span></font><font color="#333333"><span style='color:#333333'><o:p></o:p></span></font></i></p>

<p class=MsoNormal><i><font size=1 color="#333333" face=Arial><span
style='font-size:7.5pt;font-family:Arial;color:#333333;font-style:italic'>(Study
based on 37,471 responses from guests who stayed in a hotel between December
2004 and May 2005.&nbsp; Fourteen upscale hotel chains were ranked in the
study.&nbsp; </span></font></i><i><font size=2 color="#333333"><span
style='font-size:11.0pt;color:#333333;font-style:italic'><a rel="nofollow"
href="http://www.jdpower.com" title="http://www.jdpower.com/"><font size=1
face=Arial><span style='font-size:7.5pt;font-family:Arial'>www.jdpower.com</span></font></a></span></font></i><i><font
size=1 color="#333333" face=Arial><span style='font-size:7.5pt;font-family:
Arial;color:#333333;font-style:italic'>) </span></font><font color="#333333"><span
style='color:#333333'><o:p></o:p></span></font></i></p>

<p class=MsoNormal><font size=3 face="Times New Roman"><span style='font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>




</td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00533" href="msg00533.html">Re: [Omaha.pm] Quick Bail</a></strong>
<ul><li><em>From:</em> Jay Hannah &lt;jay@jays.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00529.html">Re: [Omaha.pm] Proper way to test a variable with strict and -w?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00531.html">Re: [Omaha.pm] Proper way to test a variable with strict and -w?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00536.html">Re: [Omaha.pm] Proper way to test a variable with strict and -w?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00533.html">Re: [Omaha.pm] Quick Bail</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00530"><strong>Date</strong></a></li>
<li><a href="threads.html#00530"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
