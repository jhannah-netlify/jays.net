<!-- MHonArc v2.6.24 -->
<!--X-Subject: [Omaha.pm] Fwd: the joys of encoding -->
<!--X-From-R13: Xnl Vnaanu &#60;wunaanuNzhgngvbatevq.pbz> -->
<!--X-Date: 29 Dec 2010 19:24:49 &#45;0000 -->
<!--X-Message-Id: 5E6C30B3&#45;A088&#45;49DF&#45;8700&#45;5175EDCFA566@mutationgrid.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 396CEDAA86B38646ACE2FEAA22C3FBF1044DCF51@l3exchange.omnihotels.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[Omaha.pm] Fwd: the joys of encoding</title>
<link rev="made" href="mailto:jhannah@mutationgrid.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg02565.html">Date Prev</a>][<a href="msg02567.html">Date Next</a>][<a href="msg02565.html">Thread Prev</a>][<a href="msg02567.html">Thread Next</a>][<a href="maillist.html#02566">Date Index</a>][<a href="threads.html#02566">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[Omaha.pm] Fwd: the joys of encoding</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Nebraska USA Perl Mongers of Omaha &lt;<a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a>&gt;</li>
<li><em>Subject</em>: [Omaha.pm] Fwd: the joys of encoding</li>
<li><em>From</em>: Jay Hannah &lt;<a href="mailto:jhannah%40mutationgrid.com">jhannah@mutationgrid.com</a>&gt;</li>
<li><em>Date</em>: Wed, 29 Dec 2010 13:24:41 -0600</li>
<li><em>Delivered-to</em>: <a href="mailto:mailman-omaha-pm%40mailman.pm.dev">mailman-omaha-pm@mailman.pm.dev</a></li>
<li><em>Delivered-to</em>: <a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha1; c=relaxed; d=pobox.com; h=subject	:references:from:content-type:message-id:date:to	:content-transfer-encoding:mime-version; s=sasl; bh=Jsu2d1jN3vtW	bb9PJeF8RM1nYt0=; b=yPClG7hum0Lbx3Xkw2QDFRNaA8YmdvihKdrTU6wDE3oh	TUQLIi7VxAt3QXYZYBI3nK6EwfiOYV/4bikhA3BD4dIXYe2tGY2X+8z+/5hf+37p	U51VjuSJZk2VpkpugtHkQEW+UkcAnONaJCXe33eFhJCMjBFv1Jldw1AG9rW7WCE=</li>
<li><em>List-archive</em>: &lt;<a href="http://mail.pm.org/pipermail/omaha-pm">http://mail.pm.org/pipermail/omaha-pm</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:omaha-pm-request@pm.org?subject=help">mailto:omaha-pm-request@pm.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;omaha-pm.pm.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:omaha-pm@pm.org">mailto:omaha-pm@pm.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://mail.pm.org/mailman/listinfo/omaha-pm">http://mail.pm.org/mailman/listinfo/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=subscribe">mailto:omaha-pm-request@pm.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://mail.pm.org/mailman/options/omaha-pm">http://mail.pm.org/mailman/options/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=unsubscribe">mailto:omaha-pm-request@pm.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;396CEDAA86B38646ACE2FEAA22C3FBF1044DCF51@l3exchange.omnihotels.net&gt;</li>
<li><em>Reply-to</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;<a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hmm... Sean: Looks like this is a 5.10.0 bug that people prepped patches for in 2008/2009 but I can't tell based on that thread if the patches got applied or not.

<a  rel="nofollow" href="http://groups.google.com/group/perl.perl5.porters/browse_thread/thread/94914fe2d844f5ec/2860ab39fbae7c9c?lnk=raot&amp;pli=1">http://groups.google.com/group/perl.perl5.porters/browse_thread/thread/94914fe2d844f5ec/2860ab39fbae7c9c?lnk=raot&amp;pli=1</a>

You might check the little program George Greer posted on Apr 19 2009 and see if that fails on your perl but works on more recent ones. And try isolating your real-data test too...?

HTH,

Jay Hannah
Software Architect
jhannah@mutationgrid.com | <a  rel="nofollow" href="http://mutationgrid.com">http://mutationgrid.com</a> | 1-402-598-7782



&gt; On Dec 28, 2010, at 4:54 PM, Sean Baker wrote:
&gt;&gt; This seems to work in Perl 5.8 and dies in Perl 5.10:
&gt;&gt; 
&gt;&gt;  DB&lt;2&gt; x encode_entities($str, &quot;\200-\377&quot;)
&gt;&gt; Assertion rx-&gt;sublen &gt;= (s - rx-&gt;subbeg) + i failed: file &quot;regcomp.c&quot;, line 5109 at (eval 4652)[/usr/lib/perl5/site_perl/5.10.0/x86_64-linux-thread-multi/HTML/Entities.pm:456] line 1.
&gt;&gt;  DB&lt;3&gt; x $str
&gt;&gt; 0         '&lt;b&gt;Ce forfait inclut:&lt;/b&gt;&lt;br&gt;Chambre Luxueuse, petit d&#xE9;jeuner buffet par jour, par personne, sac \x{201C}Omni\x{201D} pour les enfants, lait &amp; biscuits (soir de l\x{2019}arriv&#xE9;e).'
&gt; 
&gt; Is HTML::Entities current (3.68)?
&gt; 
&gt; Can this go on Omaha.pm?


From: &quot;Sean Baker&quot;
Date: December 29, 2010 8:00:15 AM CST
To: &quot;Jay Hannah&quot; &lt;jhannah@mutationgrid.com&gt;
&gt; Sure.  Yes, it's on a current version.  I'm going to go through production packages and compare against QA &amp; dev and roll anything up or back that I need too.
&gt; 
&gt; Module id = HTML::Entities
&gt;    DESCRIPTION  Encode/decode HTML entities
&gt;    CPAN_USERID  LWWWP (The libwww-perl mailing list &lt;libwww@perl.org&gt;)
&gt;    CPAN_VERSION 3.68
&gt;    CPAN_FILE    G/GA/GAAS/HTML-Parser-3.68.tar.gz
&gt;    UPLOAD_DATE  2010-09-01
&gt;    DSLIP_STATUS Rmpf? (released,mailing-list,perl,functions,)
&gt;    MANPAGE      HTML::Entities - Encode or decode strings with HTML entities
&gt;    INST_FILE    /usr/lib/perl5/site_perl/5.10.0/x86_64-linux-thread-multi/HTML/Entities.pm
&gt;    INST_VERSION 3.68




</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg02565.html">[Omaha.pm] Code Golf: Piano</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg02567.html">[Omaha.pm] github:fi - run your own github</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg02565.html">[Omaha.pm] Code Golf: Piano</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg02567.html">[Omaha.pm] github:fi - run your own github</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#02566"><strong>Date</strong></a></li>
<li><a href="threads.html#02566"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
