<!-- MHonArc v2.6.24 -->
<!--X-Subject: Re: [Omaha.pm] Pulling in a hash via "exec"...FAIL -->
<!--X-From-R13: "Rna Zvaqre" &#60;qnaNyvaqre.bet> -->
<!--X-Date: 7 Aug 2008 15:10:05 &#45;0000 -->
<!--X-Message-Id: 3e2be50808070809n2d268d52p2ce6897275111891@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 3e2be50808061508x68b59c87u9ea4716e347ec474@mail.gmail.com -->
<!--X-Reference: CE7AC73C&#45;DEF2&#45;453A&#45;878A&#45;7E0BFD4B3082@jays.net -->
<!--X-Reference: 3e2be50808070637x60d6784dha3a79a1a1a27fa76@mail.gmail.com -->
<!--X-Reference: 489B0BBC.4070905@jays.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [Omaha.pm] Pulling in a hash via &quot;exec&quot;...FAIL</title>
<link rev="made" href="mailto:dan@linder.org">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg01805.html">Date Prev</a>][<a href="msg01807.html">Date Next</a>][<a href="msg01805.html">Thread Prev</a>][<a href="msg01808.html">Thread Next</a>][<a href="maillist.html#01806">Date Index</a>][<a href="threads.html#01806">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [Omaha.pm] Pulling in a hash via &quot;exec&quot;...FAIL</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;<a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a>&gt;</li>
<li><em>Subject</em>: Re: [Omaha.pm] Pulling in a hash via &quot;exec&quot;...FAIL</li>
<li><em>From</em>: &quot;Dan Linder&quot; &lt;<a href="mailto:dan%40linder.org">dan@linder.org</a>&gt;</li>
<li><em>Date</em>: Thu, 7 Aug 2008 10:09:32 -0500</li>
<li><em>Delivered-to</em>: <a href="mailto:mailman-omaha-pm%40mailman.pm.dev">mailman-omaha-pm@mailman.pm.dev</a></li>
<li><em>Delivered-to</em>: <a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a></li>
<li><em>In-reply-to</em>: &lt;<a href="msg01805.html">489B0BBC.4070905@jays.net</a>&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://mail.pm.org/pipermail/omaha-pm">http://mail.pm.org/pipermail/omaha-pm</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:omaha-pm-request@pm.org?subject=help">mailto:omaha-pm-request@pm.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;omaha-pm.pm.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:omaha-pm@pm.org">mailto:omaha-pm@pm.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://mail.pm.org/mailman/listinfo/omaha-pm">http://mail.pm.org/mailman/listinfo/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=subscribe">mailto:omaha-pm-request@pm.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://mail.pm.org/mailman/options/omaha-pm">http://mail.pm.org/mailman/options/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=unsubscribe">mailto:omaha-pm-request@pm.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg01799.html">3e2be50808061508x68b59c87u9ea4716e347ec474@mail.gmail.com</a>&gt;	&lt;<a href="msg01803.html">CE7AC73C-DEF2-453A-878A-7E0BFD4B3082@jays.net</a>&gt;	&lt;<a href="msg01804.html">3e2be50808070637x60d6784dha3a79a1a1a27fa76@mail.gmail.com</a>&gt;	&lt;<a href="msg01805.html">489B0BBC.4070905@jays.net</a>&gt;</li>
<li><em>Reply-to</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;<a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Dan Linder wrote:<br>
<div class="gmail_quote"><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;"><div class="Ih2E3d"><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">

I thought of that but I couldn&#39;t find an comments regarding the differences<br>
caused by changing the hash (%fields) to a straight variable ($fields). &nbsp;I<br>
know Perl doesn&#39;t do strict casting of variables, but this still looked odd<br>
to me.<br></blockquote></div></blockquote><div><br>On Thu, Aug 7, 2008 at 9:50 AM, Jay Hannah <span dir="ltr">&lt;<a rel="nofollow" href="mailto:jay@jays.net">jay@jays.net</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
-ponder- &nbsp; When you eval this</blockquote></div><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;"><div class="Ih2E3d">$fields = {<br>
&nbsp;&#39;FIELD1&#39; =&gt; {<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FIRSTNAME =&gt; &#39;Joe&#39;,<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LASTNAME =&gt; &#39;Smith&#39;<br>
&nbsp;}<br>
<br></div>
$fields is a hash reference. But in your first post you were scoping and returning %fields, which is a hash. Hence your version was scoping and returning a hash which had absolutely nothing to do with what your were eval&#39;ing.<br>

<br>
My change was scoping a scalar $fields, which the eval turns into a hash reference, and returns that. I assume this is what you meant to do.</blockquote><div><br>The code I&#39;m working on has had an unknown number of programmers over the last five years (most field engineers who hacked the code and submitted an enhancment, not necessiaraly any full-time programmers) so some of the code in it was probably put in and left there because it worked at the time and the permissiveness of Perl allowed for the abuse of variable type casting.&nbsp; :-)<br>
<br>I need to gather a few more customer generated files to test, but I think changing to the scalar $fields is probably the correct answer.<br>&nbsp;</div><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
You might want to stick these in the top of your program:<br>
use strict;<br>
use warnings;<br>
use diagnostics;</blockquote><div>&nbsp;<br>Yes, wonderful additions - unfortunatly I know that Perl will not execute this piece of code due to failures the &quot;use strict&quot; finds so working through them is probably the best solution.&nbsp; (And if not, I can always wrapper portions of code I can&#39;t fix with &quot;no use strict&quot;...sigh)<br>
<br></div><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">(I still think eval is evil and you should use Storable. $0.02 -grin-)</blockquote>
<div><br></div></div>Hmmm, this must be a pretty evil program by your measure - it uses eval quite a bit. :-)<br><br>Storable looks like a good solution, but the saved files need to be human readable like the Data::Dump output - I searched for a flag in the Storable perldoc but couldn&#39;t find one.&nbsp;&nbsp; (And I don&#39;t think that is the intention of Storable anyway - just provide the ability to store a MACHINE readable variable not HUMAN readable...)<br>
<br>Dan<br clear="all"><br>-- <br>&quot;Quis custodiet ipsos custodes?&quot; (Who can watch the watchmen?) -- from the Satires of Juvenal<br>&quot;I do not fear computers, I fear the lack of them.&quot; -- Isaac Asimov (Author)<br>
** *** ***** ******* *********** *************<br>
</div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="01808" href="msg01808.html">Re: [Omaha.pm] Pulling in a hash via &quot;exec&quot;...FAIL</a></strong>
<ul><li><em>From:</em> Jay Hannah &lt;jay@jays.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01799" href="msg01799.html">[Omaha.pm] Pulling in a hash via &quot;exec&quot;...FAIL</a></strong>
<ul><li><em>From:</em> &quot;Dan Linder&quot; &lt;dan@linder.org&gt;</li></ul></li>
<li><strong><a name="01803" href="msg01803.html">Re: [Omaha.pm] Pulling in a hash via &quot;exec&quot;...FAIL</a></strong>
<ul><li><em>From:</em> Jay Hannah &lt;jay@jays.net&gt;</li></ul></li>
<li><strong><a name="01804" href="msg01804.html">Re: [Omaha.pm] Pulling in a hash via &quot;exec&quot;...FAIL</a></strong>
<ul><li><em>From:</em> &quot;Dan Linder&quot; &lt;dan@linder.org&gt;</li></ul></li>
<li><strong><a name="01805" href="msg01805.html">Re: [Omaha.pm] Pulling in a hash via &quot;exec&quot;...FAIL</a></strong>
<ul><li><em>From:</em> Jay Hannah &lt;jay@jays.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg01805.html">Re: [Omaha.pm] Pulling in a hash via &quot;exec&quot;...FAIL</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg01807.html">[Omaha.pm] regex's on steroids</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg01805.html">Re: [Omaha.pm] Pulling in a hash via &quot;exec&quot;...FAIL</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01808.html">Re: [Omaha.pm] Pulling in a hash via &quot;exec&quot;...FAIL</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#01806"><strong>Date</strong></a></li>
<li><a href="threads.html#01806"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
