<!-- MHonArc v2.6.24 -->
<!--X-Subject: Re: [Omaha.pm] Geneology Database? -->
<!--X-From-R13: Xnl Vnaanu &#60;wnlNwnlf.arg> -->
<!--X-Date: 29 Apr 2006 21:08:57 &#45;0000 -->
<!--X-Message-Id: 4453D5BE.4070803@jays.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4450B0CE.8010700@jays.net -->
<!--X-Reference: 20060428232903.GH21543@pjcj.net -->
<!--X-Reference: 4452A98F.5060301@jays.net -->
<!--X-Reference: 20060429000634.GK21543@pjcj.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [Omaha.pm] Geneology Database?</title>
<link rev="made" href="mailto:jay@jays.net">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00940.html">Date Prev</a>][<a href="msg00942.html">Date Next</a>][<a href="msg00939.html">Thread Prev</a>][<a href="msg00942.html">Thread Next</a>][<a href="maillist.html#00941">Date Index</a>][<a href="threads.html#00941">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [Omaha.pm] Geneology Database?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Paul Johnson &lt;<a href="mailto:paul%40pjcj.net">paul@pjcj.net</a>&gt;</li>
<li><em>Subject</em>: Re: [Omaha.pm] Geneology Database?</li>
<li><em>From</em>: Jay Hannah &lt;<a href="mailto:jay%40jays.net">jay@jays.net</a>&gt;</li>
<li><em>Date</em>: Sat, 29 Apr 2006 16:08:14 -0500</li>
<li><em>Cc</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;<a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:mailman-omaha-pm%40mailman.pm.dev">mailman-omaha-pm@mailman.pm.dev</a></li>
<li><em>Delivered-to</em>: <a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a></li>
<li><em>In-reply-to</em>: &lt;20060429000634.GK21543@pjcj.net&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://mail.pm.org/pipermail/omaha-pm">http://mail.pm.org/pipermail/omaha-pm</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:omaha-pm-request@pm.org?subject=help">mailto:omaha-pm-request@pm.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;omaha-pm.pm.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:omaha-pm@pm.org">mailto:omaha-pm@pm.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://mail.pm.org/mailman/listinfo/omaha-pm">http://mail.pm.org/mailman/listinfo/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=subscribe">mailto:omaha-pm-request@pm.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://mail.pm.org/mailman/listinfo/omaha-pm">http://mail.pm.org/mailman/listinfo/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=unsubscribe">mailto:omaha-pm-request@pm.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg00937.html">4450B0CE.8010700@jays.net</a>&gt; &lt;20060428232903.GH21543@pjcj.net&gt;	&lt;<a href="msg00939.html">4452A98F.5060301@jays.net</a>&gt; &lt;20060429000634.GK21543@pjcj.net&gt;</li>
<li><em>Reply-to</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;<a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a>&gt;</li>
<li><em>User-agent</em>: Thunderbird 1.5.0.2 (Macintosh/20060308)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Paul Johnson wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
On Fri, Apr 28, 2006 at 06:47:27PM -0500, Jay Hannah wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>Any chance you've got some magic up your sleeve which can prune my GEDCOM 
</tt><tt>to only those people related to me? Some magical concoction of toolsets?  
</tt><tt>Thanks!
</tt></blockquote><pre style="margin: 0em;">

I don't think there's anything built in (he says without looking), but
there are ancestors and descendents methods which could be used to
create a closure in a fairly inefficient way.  Or parents, children and
siblings methods with could probably do the job more efficiently.  Or
I'll bet there's another useful LifeLines script out there somewhere you
could translate :)
</pre></blockquote><pre style="margin: 0em;">

Oooo...

<a  rel="nofollow" href="ftp://ftp.cac.psu.edu/pub/genealogy/lines/reports/INDEX.html">ftp://ftp.cac.psu.edu/pub/genealogy/lines/reports/INDEX.html</a>

partition
  Jim Eggert
  Version 8, March 31, 1995
  Requires: LifeLines 2.3.3 or higher
  This program partitions individuals in a database into disjoint partitions. Each partition is composed of people related by one or more multiples of the following relations: parent, sibling, child, spouse. There is no known relationship between people in different partitions. The partitions are written to the report in overview form, full form, or in GEDCOM form, with the partitions delimited by a long line. You will have to edit the GEDCOM output to divide it up into its constituent files to be able to import the GEDCOM back into any application.

Sounds perfect. So I used lines2perl to create a Perl script and went for it -- all partitions for my entire GEDCOM. 8 HOURS later it still wasn't done. Amazing. The file is only 1.5 MB, how can it possibly got for 8 hours?

So I restarted, trying to get just MY relatives:

$ time ./partition.pl -gedcom_file jay.ged
reading.................................................................
Enter a person for just one partition, nothing for all partitions: I0313
Enter 0 for overview, 1 for full, 2 for GEDCOM report: 2
Enter filename for GEDCOM partition: new.ged

1: 1 5 17 3    167225824
         I225   Shirl                         24 Jul 2006
55 63 69 125 125 174 178 184 5    167225824
         I2     Helen FORD                     1 Jan 1912    1 Jan 1998
464 464 478 793 793 843 845 1062 7    153290844
         I513   William A. SETON               9 Jan 1861    9 Jul 1866
</pre><tt>1519 1519 1595 1598 1804 1809 1809 
</tt><tt>
</tt><pre style="margin: 0em;">
That's burned 6.5 CPU HOURS so far. Wow. Still using &lt; 50MB of RAM.

$ ps -ef | grep perl
jhannah  10280 10014 99 09:22 pts/1    06:31:15 /usr/bin/perl -w ./partition.pl -gedcom_file jay.ged
$ ps l
F   UID   PID  PPID PRI  NI    VSZ   RSS WCHAN  STAT TTY        TIME COMMAND
0  1000 10280 10014  25   0  49576 47812 -      R+   pts/1    391:17 /usr/bin/perl -w ./partition.pl -gedcom_file jay.ged

Even top is amazed by this process:

top - 16:06:19 up 5 days, 18:19,  1 user,  load average: 1.00, 1.00, 1.00
Tasks:  77 total,   3 running,  74 sleeping,   0 stopped,   0 zombie
Cpu(s): 99.7% us,  0.0% sy,  0.0% ni,  0.0% id,  0.0% wa,  0.0% hi,  0.3% si
Mem:    256968k total,   244480k used,    12488k free,    41020k buffers
Swap:   262136k total,     2192k used,   259944k free,    84036k cached

</pre><tt> PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                                        
</tt><tt>10280 jhannah   25   0 49576  46m 1812 R 99.8 18.6 402:37.17 partition.pl           
</tt><tt>
</tt><pre style="margin: 0em;">
:)

This project has forced me to finally learn to use GNU screen. Way cool. I love discovering awesome tools that stopped being developed in 1994. :)

I wonder if the native LifeLines script would be fast?

j



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00937" href="msg00937.html">Re: [Omaha.pm] Geneology Database?</a></strong>
<ul><li><em>From:</em> Jay Hannah &lt;jay@jays.net&gt;</li></ul></li>
<li><strong><a name="00939" href="msg00939.html">Re: [Omaha.pm] Geneology Database?</a></strong>
<ul><li><em>From:</em> Jay Hannah &lt;jay@jays.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00940.html">Re: [Omaha.pm] Geneology Database?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00942.html">[Omaha.pm] lines2perl: partition.pl</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00939.html">Re: [Omaha.pm] Geneology Database?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00942.html">[Omaha.pm] lines2perl: partition.pl</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00941"><strong>Date</strong></a></li>
<li><a href="threads.html#00941"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
