<!-- MHonArc v2.6.24 -->
<!--X-Subject: Re: [Omaha.pm] Reading a Unix vs a DOS text file -->
<!--X-From-R13: Dbo Fbjayrl &#60;ebo.gbjayrlNtznvy.pbz> -->
<!--X-Date: 29 Mar 2009 05:16:12 &#45;0000 -->
<!--X-Message-Id: 7e84ed60903282216r5b50d52ejcc1896d40a620669@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: c60e627c0903260849r6af4f38fica80cb41dccfeb6d@mail.gmail.com -->
<!--X-Reference: 49CBAF76.3060003@jays.net -->
<!--X-Reference: c60e627c0903261114k3143813ftd1ea6b7e6ee563fb@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [Omaha.pm] Reading a Unix vs a DOS text file</title>
<link rev="made" href="mailto:rob.townley@gmail.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg02076.html">Date Prev</a>][<a href="msg02078.html">Date Next</a>][<a href="msg02069.html">Thread Prev</a>][<a href="msg02070.html">Thread Next</a>][<a href="maillist.html#02077">Date Index</a>][<a href="threads.html#02077">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [Omaha.pm] Reading a Unix vs a DOS text file</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;<a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a>&gt;</li>
<li><em>Subject</em>: Re: [Omaha.pm] Reading a Unix vs a DOS text file</li>
<li><em>From</em>: Rob Townley &lt;<a href="mailto:rob.townley%40gmail.com">rob.townley@gmail.com</a>&gt;</li>
<li><em>Date</em>: Sun, 29 Mar 2009 00:16:05 -0500</li>
<li><em>Delivered-to</em>: <a href="mailto:mailman-omaha-pm%40mailman.pm.dev">mailman-omaha-pm@mailman.pm.dev</a></li>
<li><em>Delivered-to</em>: <a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:mime-version:received:reply-to:in-reply-to	:references:date:message-id:subject:from:to:content-type	:content-transfer-encoding;	bh=5VD3N2n69bgx192QRW276KfPxymO0L52lbTvMz4er8s=;	b=JN6cPkFFFwf1/gdVy18cBIvcGSH1Q8EvargyM+Dvn1PR5Qm1dctTOOE7QagedX3AAD	nJpqMitA3SNlwyI3E2uX7b9JI/nN2E1CjivnC+o8OVkZtSmqHG91WM8kPXQulNLCoI3a	P8jNd3X2nvxVMhdmORPwQVM8FsMz9/6XQ0b+o=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;	h=mime-version:reply-to:in-reply-to:references:date:message-id	:subject:from:to:content-type:content-transfer-encoding;	b=eTuCflxn8Aq9Cb5yQRoKwQtBIb+EMbwCiQIA/UBSu2MECv86tRDQBEvl2rJGJ6l0DD	6R5jbUPpRjk/pAj0lL/YniaGhwG4ROX4PoluP42qg/pA8TphwmiQCGNNprOMUoWBMLPJ	39fXu0DpFWhDzauu+oy6bfy9a/wRIW5BM3T1E=</li>
<li><em>In-reply-to</em>: &lt;<a href="msg02069.html">c60e627c0903261114k3143813ftd1ea6b7e6ee563fb@mail.gmail.com</a>&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://mail.pm.org/pipermail/omaha-pm">http://mail.pm.org/pipermail/omaha-pm</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:omaha-pm-request@pm.org?subject=help">mailto:omaha-pm-request@pm.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;omaha-pm.pm.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:omaha-pm@pm.org">mailto:omaha-pm@pm.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://mail.pm.org/mailman/listinfo/omaha-pm">http://mail.pm.org/mailman/listinfo/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=subscribe">mailto:omaha-pm-request@pm.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://mail.pm.org/mailman/options/omaha-pm">http://mail.pm.org/mailman/options/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=unsubscribe">mailto:omaha-pm-request@pm.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg02067.html">c60e627c0903260849r6af4f38fica80cb41dccfeb6d@mail.gmail.com</a>&gt;	&lt;<a href="msg02068.html">49CBAF76.3060003@jays.net</a>&gt;	&lt;<a href="msg02069.html">c60e627c0903261114k3143813ftd1ea6b7e6ee563fb@mail.gmail.com</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:Rob.Townley%40gmail.com">Rob.Townley@gmail.com</a>, &quot;Perl Mongers of Omaha,	Nebraska USA&quot; &lt;<a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Thu, Mar 26, 2009 at 1:14 PM, Mike Hostetler &lt;hostetlerm@gmail.com&gt; wrote:
&gt;
&gt;
&gt; On Thu, Mar 26, 2009 at 11:38 AM, Jay Hannah &lt;jay@jays.net&gt; wrote:
&gt;&gt;
&gt;&gt; Mike Hostetler wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; So . . . it there a way I could get Perl to detect a file that uses CRLF
&gt;&gt;&gt; as
&gt;&gt;&gt; it's line terminator? &#xA0;That way, I could use binmode on that file, and
&gt;&gt;&gt; use
&gt;&gt;&gt; ASCII on the rest. &#xA0;Or does someone have a better suggestion?
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; binmode is for binary files.
&gt;&gt;
&gt;&gt; CRLF (\r\n Windows) and LF (\n *nix) are for text files.
&gt;&gt;
&gt;&gt; I think you are confusing those two issues. They are not related. When
&gt;&gt; reading a file you could
&gt;&gt;
&gt;&gt; while (&lt;IN&gt;) {
&gt;&gt; &#xA0;s/[\r\n]+$//;
&gt;&gt;
&gt;&gt; to remove those characters regardless of which format any given file was
&gt;&gt; written in.
&gt;&gt;
&gt;&gt; Does that help? &#xA0; :)
&gt;
&gt; That does help.
&gt;
&gt; I mentioned binmode because I saw several references to that, but your
&gt; solution is better.
&gt;
&gt; I knew someone would know more than me.&#xA0; I just moonlight in Perl. :)
&gt;
&gt;
&gt; --
&gt; Mike Hostetler
&gt; <a  rel="nofollow" href="http://mike.hostetlerhome.com/">http://mike.hostetlerhome.com/</a>
&gt;
&gt;
&gt;
&gt; _______________________________________________
&gt; Omaha-pm mailing list
&gt; Omaha-pm@pm.org
&gt; <a  rel="nofollow" href="http://mail.pm.org/mailman/listinfo/omaha-pm">http://mail.pm.org/mailman/listinfo/omaha-pm</a>
&gt;

&gt;From what i remember, \n works well across platforms, but have had
trouble with socket programming across platform, but that was a decade
ago.

i would start with the parameters passed to perl to start the scripts.
 There is a switch to try to make it unnecessary to use chomp among
other things.  i may have used it to read files from DOS, convert
records to a standard, and output a special line ending character.

Secondly, &quot;perldoc open&quot; and check what is set for the IN and OUT
pragmas as they may be different.

Third, i would print the following perlvars and &quot;perldoc perlport&quot; to
shed some light on different places newline can be set.

# O::Handle-&gt;input_record_separator(EXPR)
# $INPUT_RECORD_SEPARATOR
# $RS
# $/

# IO::Handle-&gt;output_record_separator EXPR
# $OUTPUT_RECORD_SEPARATOR
# $ORS
# $\

The output record separator for the print operator. If defined, this
value is printed after the last of print's arguments. Default is
undef. (Mnemonic: you set $\ instead of adding &quot;\n&quot; at the end of the
print. Also, it's just like $/ , but it's what you get &quot;back&quot; from
Perl.)

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="02067" href="msg02067.html">[Omaha.pm] Reading a Unix vs a DOS text file</a></strong>
<ul><li><em>From:</em> Mike Hostetler &lt;hostetlerm@gmail.com&gt;</li></ul></li>
<li><strong><a name="02068" href="msg02068.html">Re: [Omaha.pm] Reading a Unix vs a DOS text file</a></strong>
<ul><li><em>From:</em> Jay Hannah &lt;jay@jays.net&gt;</li></ul></li>
<li><strong><a name="02069" href="msg02069.html">Re: [Omaha.pm] Reading a Unix vs a DOS text file</a></strong>
<ul><li><em>From:</em> Mike Hostetler &lt;hostetlerm@gmail.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg02076.html">[Omaha.pm] PDF::TextBlock</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg02078.html">[Omaha.pm] PDF::TextBlock</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg02069.html">Re: [Omaha.pm] Reading a Unix vs a DOS text file</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg02070.html">[Omaha.pm] code change ... good? bad? ugly?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#02077"><strong>Date</strong></a></li>
<li><a href="threads.html#02077"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
