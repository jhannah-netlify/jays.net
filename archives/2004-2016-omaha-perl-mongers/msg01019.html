<!-- MHonArc v2.6.24 -->
<!--X-Subject: Re: [Omaha.pm] Pick your brain? -->
<!--X-From-R13: Xnl Vnaanu &#60;wnlNwnlf.arg> -->
<!--X-Date: 23 Jun 2006 20:26:48 &#45;0000 -->
<!--X-Message-Id: 449C4E6D.2070809@jays.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 6.2.3.4.2.20060623085236.05c87008@mail.aurora&#45;e&#45;solutions.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [Omaha.pm] Pick your brain?</title>
<link rev="made" href="mailto:jay@jays.net">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg01018.html">Date Prev</a>][<a href="msg01020.html">Date Next</a>][<a href="msg01018.html">Thread Prev</a>][<a href="msg01020.html">Thread Next</a>][<a href="maillist.html#01019">Date Index</a>][<a href="threads.html#01019">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [Omaha.pm] Pick your brain?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &quot;Michael D. Maynard&quot; &lt;<a href="mailto:michael.maynard%40auroraesolutions.com">michael.maynard@auroraesolutions.com</a>&gt;</li>
<li><em>Subject</em>: Re: [Omaha.pm] Pick your brain?</li>
<li><em>From</em>: Jay Hannah &lt;<a href="mailto:jay%40jays.net">jay@jays.net</a>&gt;</li>
<li><em>Date</em>: Fri, 23 Jun 2006 15:26:21 -0500</li>
<li><em>Cc</em>: <a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a></li>
<li><em>Delivered-to</em>: <a href="mailto:mailman-omaha-pm%40mailman.pm.dev">mailman-omaha-pm@mailman.pm.dev</a></li>
<li><em>Delivered-to</em>: <a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a></li>
<li><em>In-reply-to</em>: &lt;6.2.3.4.2.20060623085236.05c87008@mail.aurora-e-solutions.com&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://mail.pm.org/pipermail/omaha-pm">http://mail.pm.org/pipermail/omaha-pm</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:omaha-pm-request@pm.org?subject=help">mailto:omaha-pm-request@pm.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;omaha-pm.pm.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:omaha-pm@pm.org">mailto:omaha-pm@pm.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://mail.pm.org/mailman/listinfo/omaha-pm">http://mail.pm.org/mailman/listinfo/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=subscribe">mailto:omaha-pm-request@pm.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://mail.pm.org/mailman/listinfo/omaha-pm">http://mail.pm.org/mailman/listinfo/omaha-pm</a>&gt;,	&lt;<a href="mailto:omaha-pm-request@pm.org?subject=unsubscribe">mailto:omaha-pm-request@pm.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;6.2.3.4.2.20060623085236.05c87008@mail.aurora-e-solutions.com&gt;</li>
<li><em>Reply-to</em>: &quot;Perl Mongers of Omaha, Nebraska USA&quot; &lt;<a href="mailto:omaha-pm%40pm.org">omaha-pm@pm.org</a>&gt;</li>
<li><em>User-agent</em>: Thunderbird 1.5.0.4 (Macintosh/20060530)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Michael D. Maynard wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>Can I pick your brain for a minute?  I've got a perl script that imports 
</tt><tt>tables from SQL server and inserts them into MySQL.  The script does the 
</tt><tt>inserts to one of two servers depending on the arguments that you give 
</tt><tt>it.  It has been running stably for almost a year.  Recently some 
</tt><tt>changes were made to the tables in the SQL server.  A few fields were 
</tt><tt>added and a few taken away.  The SELECT and REPLACE statements were 
</tt><tt>updated accordingly. 
</tt></blockquote><pre style="margin: 0em;">

What is a REPLACE statement? A wacky variation of an UPDATE statement? Does that exist in MySQL, MS-SQL, or both?

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>The SQL server is updated twice a day.  Client pushes data to me which I 
</tt><tt>scrub and populate the MySQL database. This is the odd thing.  The first 
</tt><tt>time the script is run after an update of the SQL server, I get errors 
</tt><tt>saying that required fields are empty.  They are not.  If I run the 
</tt><tt>script again, it works fine.  Sometimes it will error on another table, 
</tt><tt>but if I run it enough times and get through all the tables then it runs 
</tt><tt>fine until the next update.  The failed REPLACE statement isn't in the 
</tt><tt>bin log. :-(
</tt><pre style="margin: 0em;">

I haven't made any updates to perl, perl modules, SQL server, OS, etc.

Any thoughts?
</pre></blockquote><pre style="margin: 0em;">

Yikes. Are you using DBD::Sybase and freetds to connect to MS-SQL server (that is what I use) or some other combination? Can you tell me exactly what errors you are getting? Can you trap the line of data in the source database that it is complaining about? (RaiseError 0, PrintError 1, + a little loop for error handling to print all the values in the fatal row?)

HTH,

j
in PHX until Sunday night



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg01018.html">[Omaha.pm] YAPC::NA 2006</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg01020.html">Re: [Omaha.pm] Pick your brain?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg01018.html">[Omaha.pm] YAPC::NA 2006</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01020.html">Re: [Omaha.pm] Pick your brain?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#01019"><strong>Date</strong></a></li>
<li><a href="threads.html#01019"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
